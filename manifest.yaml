manifestVersion: 1
info:
  name: Seqera Platform Integration
  description: Simple Seqera Platform integration via canvas
  version: 0.0.11
features:
  - name: Seqera Workflow Run Selector
    id: seqera_entry
    type: CANVAS
subscriptions:
  deliveryMethod: WEBHOOK
  # `app` lifecycle webhooks go to the /lifecycle subpath
  # `canvas` interaction webhooks go to the /canvas subpath
  # `event` interaction webhooks go to the /event subpath
  messages:
  - type: v2.app.installed
  - type: v2.canvas.created # user clicks "Add"
  - type: v2.canvas.initialized
  - type: v2.canvas.userInteracted
configuration:
  - name: syncFolder
    type: folder
    description: The folder where synced pipeline runs will be stored
    requiredConfig: true 
  - name: organizationName
    type: text
    description: Seqera organization name
    requiredConfig: true
  - name: workspaceName
    type: text
    description: Seqera workspace name
    requiredConfig: true
  - name: NXF_XPACK_LICENSE
    type: text
    description: Nextflow XPACK license key
    requiredConfig: true
  - name: seqeraPlatformToken
    type: text
    description: Seqera token
    requiredConfig: true
  - name: seqeraApiEndpoint
    type: text
    description: Seqera API endpoint URL
    requiredConfig: true
  - name: workflowSchema
    type: entry_schema
    description: A Nextflow workflow schema 
    requiredConfig: true
    fieldDefinitions:
      - name: workflowId
        type: text
        requiredConfig: true
      - name: runName
        type: text
        requiredConfig: true
      - name: status
        type: dropdown
        requiredConfig: true
      - name: projectName
        type: text
        requiredConfig: true
      - name: startTime
        type: datetime
        requiredConfig: true
      - name: ownerId
        type: text
        requiredConfig: true
      - name: labels
        type: text
        requiredConfig: true